WITH 
SET [CLIENTES] AS
'ORDER(NONEMPTY([Cliente].[Hierarquia Geográfica].[Nível Cliente]), [FATURAMENTO DE VENDAS], BDESC)'

MEMBER [MEASURES].[POSICAO NO RANK] AS
'RANK([Cliente].[Hierarquia Geográfica].CURRENTMEMBER, [CLIENTES])', FORMAT_STRING = "#;#;-"

MEMBER [MEASURES].[FATURAMENTO DE VENDAS] AS
'[MEASURES].[FATURAMENTO]', FORMAT_STRING = "#,##0.00"

MEMBER [MEASURES].[PERCENTUAL DAS VENDAS] AS
'([MEASURES].[FATURAMENTO] / ([MEASURES].[FATURAMENTO],[Cliente].[Hierarquia Geográfica].[ALL]))', FORMAT_STRING = "PERCENT"

MEMBER [MEASURES].[FATURAMENTO ACUMULADO] AS 
' SUM(HEAD([CLIENTES], [MEASURES].[POSICAO NO RANK]) , [MEASURES].[FATURAMENTO DE VENDAS] )' , FORMAT_STRING = "#,##0.00"

MEMBER [MEASURES].[TOTAL DE CLIENTE] AS 
'[ClienteS].COUNT', FORMAT_STRING = "#;#;-"

MEMBER [MEASURES].[PERCENTUAL DE NRO CLIENTE] AS 
'[MEASURES].[POSICAO NO RANK]/[MEASURES].[TOTAL DE CLIENTE]' , FORMAT_STRING = "PERCENT"

MEMBER [MEASURES].[PERCENTUAL VENDAS ACUMULADAS] AS 
' SUM(HEAD([CLIENTES], [MEASURES].[POSICAO NO RANK]) , [MEASURES].[PERCENTUAL DAS VENDAS] )' , FORMAT_STRING = "PERCENT"


SELECT 
	NONEMPTY ({
		 [CLIENTES]
	 }) ON ROWS,
	NON EMPTY ({
		 [FATURAMENTO DE VENDAS]
		//,[MEASURES].[POSICAO NO RANK]
		//,[MEASURES].[PERCENTUAL DAS VENDAS]
		//,[MEASURES].[FATURAMENTO ACUMULADO]
		//,[MEASURES].[TOTAL DE CLIENTE]
		,[MEASURES].[PERCENTUAL VENDAS ACUMULADAS]
		,[MEASURES].[PERCENTUAL DE NRO CLIENTE]
	}) 
	ON COLUMNS
FROM [COMPLETO]
WHERE  [TEMPO].[HIERARQUIA DO MÊS E ANO].[ANO].&[2014]



